---
version: 1
flow:
  flow_start:
    next: fork1
  fork1:
    fork:
      next: [action1, action2]
  action1:
    action: ProjectRock-Route53 Updates
    next: condition
  action2:
    action: ProjectRock-ELB Updates
    next: action4
  condition:
    switch:
     ${tags['SendSMS'] == 'Yes'} : action3
     ${tags['SendSMS'] == 'No'} : action4
  action3:
   action: ProjectRock-SNSNotification
   next: join1
  join1:
   join:
    type: all
    next: flow_end
  action4:
    action: ProjectRock-NoNotification
    next: join1